image: python 2.7

stages:
    - build 
    - test

build:
    stage: build
    script:
        - virtualenv venv
        - source venv/bin/activate
        - pip install --upgrade pip
        - pip install flake8
        - pip install -r requirements.txt
        - python setup.py install
        - deactivate

test:
    stage: test
    script:
        - source venv/bin/activate
        - python setup.py test
        - deactivate
